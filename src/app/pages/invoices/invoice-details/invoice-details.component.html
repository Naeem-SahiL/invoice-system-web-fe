<p-progressbar *ngIf="loading" mode="indeterminate" [style]="{ height: '6px' }" />
<div class="card">
    <div class="flex flex-col md:flex-row justify-between items-center mb-4 gap-2">
        <h5 class="m-0">Invoice Details</h5>
        <p-button label="Back to List" icon="pi pi-arrow-left" (onClick)="cancel()" severity="secondary" />
    </div>

    <div class="flex flex-col gap-6 w-full">

        <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-4">
            <div class="flex gap-2">
                <p class="font-semibold">Invoice #:</p>
                <p>{{ invoice?.invoice_number }}</p>
            </div>

            <div class="flex gap-2">
                <p class="font-semibold">Invoice Date:</p>
                <p>{{ invoice?.invoice_date  }}</p>
            </div>
        </div>

        <div class="flex gap-2 items-center">
            <div>
            <p class="font-semibold ">Company:</p>
            </div>
            <div>
            <p class="font-semibold ">{{ invoice?.company?.name }}</p>
            </div>
        </div>
        <div class="flex gap-2 items-center">
            <div>
                <p class="font-semibold">Company Address:</p>
            </div>
            <div>
                <p class="font-semibold">{{ invoice?.company?.address }}</p>
            </div>
        </div>
        <div class="flex gap-2 items-center">
            <div>
                <p class="font-semibold">Remarks :</p>
            </div>
            <div>
                <p class="font-semibold">{{ invoice?.remarks }}</p>
            </div>
        </div>

        <p-divider type="solid" />

    </div>

    <p-table [value]="invoice?.items ?? []" dataKey="id" [tableStyle]="{ 'min-width': '50rem' }" [loading]="loading">
        <ng-template #header>
            <tr>
                <th>Sr.</th>
                <th>Description</th>
                <th>Service Name</th>
                <th>QTY</th>
                <th>Rate</th>
                <th>Vat Amount</th>
                <th>Total Amount</th>
            </tr>
        </ng-template>
        <ng-template #body let-item>
            <tr>
                <td>{{ item.sr_no_group }}</td>
                <td>{{ item.description }}</td>
                <td>{{ item.service.name }}</td>
                <td>{{ item.quantity }}</td>
                <td>{{ item.rate }}</td>
                <td>{{ item.vat_amount }}</td>
                <td>{{ item.total_amount }}</td>
            </tr>
        </ng-template>
    </p-table>

    <div class="flex flex-col gap-4 mt-10 w-full md:w-1/4 ml-auto">
        <div class="flex flex-row justify-between items-center">
            <span class="font-semibold">Gross Amount:</span>
            <span>{{ invoice?.gross_amount }}</span>
        </div>
        <div class="flex flex-row justify-between items-center">
            <span class="font-semibold">VAT Amount:</span>
            <span>{{ invoice?.vat_amount }}</span>
        </div>
        <div class="flex flex-row justify-between items-center">
            <span class="font-semibold">Total Amount:</span>
            <span>{{ invoice?.total_amount }}</span>
        </div>
    </div>

    <!-- Print button -->
<!--    <div class="flex justify-end mt-4">-->
<!--        <p-button label="Print Invoice" icon="pi pi-print" (onClick)="printInvoice()" severity="primary" />-->
<!--        <p-button label="Download PDF" icon="pi pi-file-pdf" (onClick)="downloadPDF()" severity="secondary" />-->
<!--    </div>-->
